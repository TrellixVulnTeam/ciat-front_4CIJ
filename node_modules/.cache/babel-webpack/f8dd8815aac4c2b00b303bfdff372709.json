{"ast":null,"code":"import { MessageService } from 'primeng/api';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"primeng/api\";\nimport * as i2 from \"../../services/firestore/firestore.service\";\nimport * as i3 from \"primeng/toolbar\";\nimport * as i4 from \"primeng/table\";\nimport * as i5 from \"primeng/dialog\";\nimport * as i6 from \"primeng/toast\";\nimport * as i7 from \"primeng/button\";\nimport * as i8 from \"primeng/ripple\";\nimport * as i9 from \"primeng/inputtext\";\nimport * as i10 from \"@angular/forms\";\nimport * as i11 from \"primeng/fileupload\";\nimport * as i12 from \"primeng/dropdown\";\nimport * as i13 from \"primeng/multiselect\";\nimport * as i14 from \"primeng/inputtextarea\";\nimport * as i15 from \"@angular/common\";\n\nfunction ProductsComponent_ng_template_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_ng_template_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.openNew();\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductsComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵelementStart(1, \"h5\", 15);\n    i0.ɵɵtext(2, \"Administrar Productos\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"span\", 16);\n    i0.ɵɵelement(4, \"input\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductsComponent_ng_template_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"th\", 18);\n    i0.ɵɵelement(2, \"p-tableHeaderCheckbox\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"th\", 19);\n    i0.ɵɵtext(4, \"Nombre \");\n    i0.ɵɵelement(5, \"p-sortIcon\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\");\n    i0.ɵɵtext(7, \"Foto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 21);\n    i0.ɵɵtext(9, \"Precio \");\n    i0.ɵɵelement(10, \"p-sortIcon\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"th\", 23);\n    i0.ɵɵtext(12, \"Categoria \");\n    i0.ɵɵelement(13, \"p-sortIcon\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"th\", 25);\n    i0.ɵɵtext(15, \"Disponibilidad \");\n    i0.ɵɵelement(16, \"p-sortIcon\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"th\", 27);\n    i0.ɵɵtext(18, \"Estado \");\n    i0.ɵɵelement(19, \"p-sortIcon\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"th\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ProductsComponent_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵelement(2, \"p-tableCheckbox\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵelement(6, \"img\", 30);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"td\");\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵelementStart(17, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_ng_template_12_Template_button_click_17_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.hideDialog();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_ng_template_12_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return ctx_r11.saveProduct();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const product_r8 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"value\", product_r8);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r8.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", product_r8.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 7, product_r8.price));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(product_r8.category);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r8.quantity);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(product_r8.inventoryStatus);\n  }\n}\n\nfunction ProductsComponent_ng_template_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵelementStart(1, \"label\", 34);\n    i0.ɵɵtext(2, \"Nombre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"input\", 35);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductsComponent_ng_template_14_Template_input_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return ctx_r12.product.name = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 33);\n    i0.ɵɵelementStart(5, \"label\", 34);\n    i0.ɵɵtext(6, \"Foto\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(7, \"p-fileUpload\", 36);\n    i0.ɵɵelementStart(8, \"div\", 33);\n    i0.ɵɵelementStart(9, \"label\", 34);\n    i0.ɵɵtext(10, \"Categoria\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"p-dropdown\", 37);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductsComponent_ng_template_14_Template_p_dropdown_ngModelChange_11_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return ctx_r14.categoria = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 33);\n    i0.ɵɵelementStart(13, \"label\", 34);\n    i0.ɵɵtext(14, \"Tallas\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(15, \"p-multiSelect\", 38);\n    i0.ɵɵelementStart(16, \"div\", 33);\n    i0.ɵɵelementStart(17, \"label\", 34);\n    i0.ɵɵtext(18, \"Descripci\\u00F3n corta\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"input\", 35);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductsComponent_ng_template_14_Template_input_ngModelChange_19_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return ctx_r15.product.description = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 33);\n    i0.ɵɵelementStart(21, \"label\", 34);\n    i0.ɵɵtext(22, \"Descripci\\u00F3n larga \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"textarea\", 39);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductsComponent_ng_template_14_Template_textarea_ngModelChange_23_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.product.longDescription = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 33);\n    i0.ɵɵelementStart(25, \"label\", 34);\n    i0.ɵɵtext(26, \"Precio\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"input\", 35);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductsComponent_ng_template_14_Template_input_ngModelChange_27_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return ctx_r17.product.price = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"div\", 33);\n    i0.ɵɵelementStart(29, \"label\", 34);\n    i0.ɵɵtext(30, \"Cantidad\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(31, \"input\", 35);\n    i0.ɵɵlistener(\"ngModelChange\", function ProductsComponent_ng_template_14_Template_input_ngModelChange_31_listener($event) {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return ctx_r18.product.quantity = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.product.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"maxFileSize\", 1000000);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"options\", ctx_r4.categorias)(\"ngModel\", ctx_r4.categoria)(\"placeholder\", ctx_r4.categoria)(\"filter\", true);\n    i0.ɵɵadvance(8);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.product.description);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.product.longDescription);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.product.price);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r4.product.quantity);\n  }\n}\n\nfunction ProductsComponent_ng_template_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_ng_template_15_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.hideDialog();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(1, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function ProductsComponent_ng_template_15_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.saveProduct();\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nconst _c0 = function () {\n  return [\"name\", \"country.name\", \"representative.name\", \"status\"];\n};\n\nconst _c1 = function () {\n  return {\n    width: \"450px\"\n  };\n};\n\nexport let ProductsComponent = /*#__PURE__*/(() => {\n  class ProductsComponent {\n    constructor(messageService, firestoreService) {\n      this.messageService = messageService;\n      this.firestoreService = firestoreService;\n      this.products = [];\n      this.categorias = [];\n      this.product = {\n        id: 0,\n        category: '',\n        code: 0,\n        description: '',\n        image: '',\n        inventoryStatus: 'DISPONIBLE',\n        longDescription: '',\n        name: '',\n        price: 0,\n        quantity: 0,\n        rating: 5\n      };\n      this.submitted = false;\n      this.productDialog = false;\n      this.firestoreService.getTodosProductos().valueChanges().subscribe(res => {\n        let contenidoProducts = res;\n        contenidoProducts.forEach(entry => {\n          this.products.push(entry);\n        });\n        console.log(this.products.length);\n      });\n    }\n\n    ngOnInit() {\n      this.categorias = [{\n        name: 'Camisetas',\n        code: 'camisetas'\n      }, {\n        name: 'Mayoristas',\n        code: 'mayoristas'\n      }];\n    }\n\n    openNew() {\n      this.product = {\n        id: this.products.length + 1,\n        category: '',\n        code: this.products.length + 1,\n        description: '',\n        image: '',\n        inventoryStatus: 'DISPONIBLE',\n        longDescription: '',\n        name: '',\n        price: 0,\n        quantity: 0,\n        rating: 5\n      };\n      this.submitted = false;\n      this.productDialog = true;\n    }\n\n    hideDialog() {\n      this.productDialog = false;\n      this.submitted = false;\n      this.product = {\n        id: 0,\n        category: '',\n        code: 0,\n        description: '',\n        image: '',\n        inventoryStatus: 'DISPONIBLE',\n        longDescription: '',\n        name: '',\n        price: 0,\n        quantity: 0,\n        rating: 5\n      };\n    }\n\n    saveProduct() {\n      this.product.category = this.categoria.code;\n      this.firestoreService.addProducto(this.product).then(() => {\n        this.messageService.add({\n          severity: 'success',\n          summary: 'Successful',\n          detail: 'Producto Creado',\n          life: 3000\n        });\n        this.productDialog = false;\n        this.product = {\n          id: 0,\n          category: '',\n          code: 0,\n          description: '',\n          image: '',\n          inventoryStatus: 'DISPONIBLE',\n          longDescription: '',\n          name: '',\n          price: 0,\n          quantity: 0,\n          rating: 5\n        };\n      }).then(res => {\n        this.messageService.add({\n          severity: 'success',\n          summary: 'Successful',\n          detail: 'Error al crear producto',\n          life: 3000\n        });\n      });\n    }\n\n  }\n\n  ProductsComponent.ɵfac = function ProductsComponent_Factory(t) {\n    return new (t || ProductsComponent)(i0.ɵɵdirectiveInject(i1.MessageService), i0.ɵɵdirectiveInject(i2.FirestoreService));\n  };\n\n  ProductsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ProductsComponent,\n    selectors: [[\"app-products\"]],\n    features: [i0.ɵɵProvidersFeature([MessageService])],\n    decls: 17,\n    vars: 12,\n    consts: [[1, \"ml-8\", \"pt-8\"], [1, \"text-5xl\"], [1, \"flex\", \"justify-content-center\", \"flex-wrap\", \"card-container\"], [1, \"card\", \"w-11\", \"justify-content-center\", \"m-auto\", \"mt-4\", \"mb-8\"], [\"styleClass\", \"mb-4\"], [\"pTemplate\", \"left\"], [\"responsiveLayout\", \"scroll\", \"dataKey\", \"id\", \"currentPageReportTemplate\", \"Showing {first} to {last} of {totalRecords} entries\", 3, \"value\", \"rows\", \"paginator\", \"globalFilterFields\", \"rowHover\", \"showCurrentPageReport\"], [\"pTemplate\", \"caption\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [\"header\", \"Administrar Productos\", \"styleClass\", \"p-fluid\", 3, \"visible\", \"modal\", \"visibleChange\"], [\"pTemplate\", \"content\"], [\"pTemplate\", \"footer\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Agregar\", \"icon\", \"pi pi-plus\", 1, \"p-button-success\", \"mr-2\", 3, \"click\"], [1, \"flex\", \"align-items-center\", \"justify-content-between\"], [1, \"m-0\"], [1, \"p-input-icon-left\"], [\"pInputText\", \"\", \"type\", \"text\", \"placeholder\", \"Search...\"], [2, \"width\", \"3rem\"], [\"pSortableColumn\", \"name\"], [\"field\", \"name\"], [\"pSortableColumn\", \"price\"], [\"field\", \"price\"], [\"pSortableColumn\", \"category\"], [\"field\", \"category\"], [\"pSortableColumn\", \"rating\"], [\"field\", \"rating\"], [\"pSortableColumn\", \"inventoryStatus\"], [\"field\", \"inventoryStatus\"], [3, \"value\"], [\"alt\", \"\", 2, \"width\", \"100px\", 3, \"src\"], [\"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-pencil\", 1, \"p-button-rounded\", \"p-button-success\", \"mr-2\", 3, \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"icon\", \"pi pi-trash\", 1, \"p-button-rounded\", \"p-button-warning\", 3, \"click\"], [1, \"p-field\"], [\"for\", \"name\"], [\"type\", \"text\", \"pInputText\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"mode\", \"basic\", \"accept\", \"image/*\", \"label\", \"Import\", \"chooseLabel\", \"Import\", 1, \"mr-2\", \"inline-block\", 3, \"maxFileSize\"], [\"filterBy\", \"name\", \"optionLabel\", \"name\", 3, \"options\", \"ngModel\", \"placeholder\", \"filter\", \"ngModelChange\"], [\"defaultLabel\", \"Selecionar tallas\", \"optionLabel\", \"name\"], [\"rows\", \"5\", \"cols\", \"30\", \"pInputTextarea\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Cancelar\", \"icon\", \"pi pi-times\", 1, \"p-button-text\", 3, \"click\"], [\"pButton\", \"\", \"pRipple\", \"\", \"label\", \"Guardar\", \"icon\", \"pi pi-check\", 1, \"p-button-text\", 3, \"click\"]],\n    template: function ProductsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"p\", 1);\n        i0.ɵɵtext(2, \"Productos\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"p\");\n        i0.ɵɵtext(4, \"Administre los productos de su comercio\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\", 2);\n        i0.ɵɵelementStart(6, \"div\", 3);\n        i0.ɵɵelementStart(7, \"p-toolbar\", 4);\n        i0.ɵɵtemplate(8, ProductsComponent_ng_template_8_Template, 1, 0, \"ng-template\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"p-table\", 6);\n        i0.ɵɵtemplate(10, ProductsComponent_ng_template_10_Template, 5, 0, \"ng-template\", 7);\n        i0.ɵɵtemplate(11, ProductsComponent_ng_template_11_Template, 21, 0, \"ng-template\", 8);\n        i0.ɵɵtemplate(12, ProductsComponent_ng_template_12_Template, 19, 9, \"ng-template\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"p-dialog\", 10);\n        i0.ɵɵlistener(\"visibleChange\", function ProductsComponent_Template_p_dialog_visibleChange_13_listener($event) {\n          return ctx.productDialog = $event;\n        });\n        i0.ɵɵtemplate(14, ProductsComponent_ng_template_14_Template, 32, 10, \"ng-template\", 11);\n        i0.ɵɵtemplate(15, ProductsComponent_ng_template_15_Template, 2, 0, \"ng-template\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"p-toast\");\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"value\", ctx.products)(\"rows\", 5)(\"paginator\", true)(\"globalFilterFields\", i0.ɵɵpureFunction0(10, _c0))(\"rowHover\", true)(\"showCurrentPageReport\", true);\n        i0.ɵɵadvance(4);\n        i0.ɵɵstyleMap(i0.ɵɵpureFunction0(11, _c1));\n        i0.ɵɵproperty(\"visible\", ctx.productDialog)(\"modal\", true);\n      }\n    },\n    directives: [i3.Toolbar, i1.PrimeTemplate, i4.Table, i5.Dialog, i6.Toast, i7.ButtonDirective, i8.Ripple, i9.InputText, i4.TableHeaderCheckbox, i4.SortableColumn, i4.SortIcon, i4.TableCheckbox, i10.DefaultValueAccessor, i10.NgControlStatus, i10.NgModel, i11.FileUpload, i12.Dropdown, i13.MultiSelect, i14.InputTextarea],\n    pipes: [i15.CurrencyPipe],\n    styles: [\"\"]\n  });\n  return ProductsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}