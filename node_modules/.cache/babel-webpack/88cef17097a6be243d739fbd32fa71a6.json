{"ast":null,"code":"import _asyncToGenerator from \"/home/cristian/Escritorio/ciatTest/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport Cookies from 'universal-cookie/es6';\nlet LoginComponent = class LoginComponent {\n  constructor(router, authService, firestoreService) {\n    this.router = router;\n    this.authService = authService;\n    this.firestoreService = firestoreService;\n    this.usuario = {\n      username: '',\n      password: ''\n    };\n    this.registroUsuario = {\n      username: '',\n      password: ''\n    };\n  }\n\n  ngOnInit() {}\n\n  Loguearse() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var cookies = new Cookies();\n\n      _this.firestoreService.Loguin(_this.usuario).then(res => {\n        var resp = res;\n        console.log(res.data);\n        cookies.set('token', resp.data.accessToken, {\n          expires: new Date(Date.now() + 3600000)\n        });\n\n        _this.router.navigateByUrl('/home/products');\n      });\n    })();\n  }\n\n  registrarUsuario() {\n    if (this.password == this.registroUsuario.password) {\n      this.authService.onRegister(this.registroUsuario).then(res => {\n        console.log(res);\n        location.reload();\n      }).catch(err => {\n        if (err.code == 'auth/weak-password') {\n          window.alert('La contrase単a debe tener minimo 6 caracteres');\n        }\n\n        if (err.code == 'auth/invalid-email') {\n          window.alert('Correo invalido');\n        }\n\n        if (err.code == 'auth/email-already-in-use') {\n          window.alert('El correo esta siendo usado por otra cuenta');\n        }\n\n        console.log(err);\n      });\n    } else {\n      window.alert('Las contrase単as no considen');\n    }\n  }\n\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})], LoginComponent);\nexport { LoginComponent };","map":{"version":3,"sources":["/home/cristian/Escritorio/ciatTest/src/app/componentes/login/login.component.ts"],"names":["__decorate","Component","Cookies","LoginComponent","constructor","router","authService","firestoreService","usuario","username","password","registroUsuario","ngOnInit","Loguearse","cookies","Loguin","then","res","resp","console","log","data","set","accessToken","expires","Date","now","navigateByUrl","registrarUsuario","onRegister","location","reload","catch","err","code","window","alert","selector","templateUrl","styleUrls"],"mappings":";AAAA,SAASA,UAAT,QAA2B,OAA3B;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,OAAOC,OAAP,MAAoB,sBAApB;AACA,IAAIC,cAAc,GAAG,MAAMA,cAAN,CAAqB;AACtCC,EAAAA,WAAW,CAACC,MAAD,EAASC,WAAT,EAAsBC,gBAAtB,EAAwC;AAC/C,SAAKF,MAAL,GAAcA,MAAd;AACA,SAAKC,WAAL,GAAmBA,WAAnB;AACA,SAAKC,gBAAL,GAAwBA,gBAAxB;AACA,SAAKC,OAAL,GAAe;AACXC,MAAAA,QAAQ,EAAE,EADC;AAEXC,MAAAA,QAAQ,EAAE;AAFC,KAAf;AAIA,SAAKC,eAAL,GAAuB;AACnBF,MAAAA,QAAQ,EAAE,EADS;AAEnBC,MAAAA,QAAQ,EAAE;AAFS,KAAvB;AAIH;;AACDE,EAAAA,QAAQ,GAAG,CACV;;AACKC,EAAAA,SAAS,GAAG;AAAA;;AAAA;AACd,UAAIC,OAAO,GAAG,IAAIZ,OAAJ,EAAd;;AACA,MAAA,KAAI,CAACK,gBAAL,CAAsBQ,MAAtB,CAA6B,KAAI,CAACP,OAAlC,EAA2CQ,IAA3C,CAAgDC,GAAG,IAAI;AACnD,YAAIC,IAAI,GAAGD,GAAX;AACAE,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACI,IAAhB;AACAP,QAAAA,OAAO,CAACQ,GAAR,CAAY,OAAZ,EAAqBJ,IAAI,CAACG,IAAL,CAAUE,WAA/B,EAA4C;AAAEC,UAAAA,OAAO,EAAE,IAAIC,IAAJ,CAASA,IAAI,CAACC,GAAL,KAAa,OAAtB;AAAX,SAA5C;;AACA,QAAA,KAAI,CAACrB,MAAL,CAAYsB,aAAZ,CAA0B,gBAA1B;AACH,OALD;AAFc;AAQjB;;AACDC,EAAAA,gBAAgB,GAAG;AACf,QAAI,KAAKlB,QAAL,IAAiB,KAAKC,eAAL,CAAqBD,QAA1C,EAAoD;AAChD,WAAKJ,WAAL,CAAiBuB,UAAjB,CAA4B,KAAKlB,eAAjC,EAAkDK,IAAlD,CAAuDC,GAAG,IAAI;AAC1DE,QAAAA,OAAO,CAACC,GAAR,CAAYH,GAAZ;AACAa,QAAAA,QAAQ,CAACC,MAAT;AACH,OAHD,EAGGC,KAHH,CAGSC,GAAG,IAAI;AACZ,YAAIA,GAAG,CAACC,IAAJ,IAAY,oBAAhB,EAAsC;AAClCC,UAAAA,MAAM,CAACC,KAAP,CAAa,8CAAb;AACH;;AACD,YAAIH,GAAG,CAACC,IAAJ,IAAY,oBAAhB,EAAsC;AAClCC,UAAAA,MAAM,CAACC,KAAP,CAAa,iBAAb;AACH;;AACD,YAAIH,GAAG,CAACC,IAAJ,IAAY,2BAAhB,EAA6C;AACzCC,UAAAA,MAAM,CAACC,KAAP,CAAa,6CAAb;AACH;;AACDjB,QAAAA,OAAO,CAACC,GAAR,CAAYa,GAAZ;AACH,OAdD;AAeH,KAhBD,MAiBK;AACDE,MAAAA,MAAM,CAACC,KAAP,CAAa,6BAAb;AACH;AACJ;;AA9CqC,CAA1C;AAgDAjC,cAAc,GAAGH,UAAU,CAAC,CACxBC,SAAS,CAAC;AACNoC,EAAAA,QAAQ,EAAE,WADJ;AAENC,EAAAA,WAAW,EAAE,wBAFP;AAGNC,EAAAA,SAAS,EAAE,CAAC,wBAAD;AAHL,CAAD,CADe,CAAD,EAMxBpC,cANwB,CAA3B;AAOA,SAASA,cAAT","sourcesContent":["import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport Cookies from 'universal-cookie/es6';\nlet LoginComponent = class LoginComponent {\n    constructor(router, authService, firestoreService) {\n        this.router = router;\n        this.authService = authService;\n        this.firestoreService = firestoreService;\n        this.usuario = {\n            username: '',\n            password: ''\n        };\n        this.registroUsuario = {\n            username: '',\n            password: ''\n        };\n    }\n    ngOnInit() {\n    }\n    async Loguearse() {\n        var cookies = new Cookies();\n        this.firestoreService.Loguin(this.usuario).then(res => {\n            var resp = res;\n            console.log(res.data);\n            cookies.set('token', resp.data.accessToken, { expires: new Date(Date.now() + 3600000) });\n            this.router.navigateByUrl('/home/products');\n        });\n    }\n    registrarUsuario() {\n        if (this.password == this.registroUsuario.password) {\n            this.authService.onRegister(this.registroUsuario).then(res => {\n                console.log(res);\n                location.reload();\n            }).catch(err => {\n                if (err.code == 'auth/weak-password') {\n                    window.alert('La contrase単a debe tener minimo 6 caracteres');\n                }\n                if (err.code == 'auth/invalid-email') {\n                    window.alert('Correo invalido');\n                }\n                if (err.code == 'auth/email-already-in-use') {\n                    window.alert('El correo esta siendo usado por otra cuenta');\n                }\n                console.log(err);\n            });\n        }\n        else {\n            window.alert('Las contrase単as no considen');\n        }\n    }\n};\nLoginComponent = __decorate([\n    Component({\n        selector: 'app-login',\n        templateUrl: './login.component.html',\n        styleUrls: ['./login.component.scss']\n    })\n], LoginComponent);\nexport { LoginComponent };\n"]},"metadata":{},"sourceType":"module"}